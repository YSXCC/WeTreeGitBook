
- NASM Map file ---------------------------------------------------------------

Source file:  kernel.asm
Output file:  kernel.bat

-- Symbols --------------------------------------------------------------------

---- No Section ---------------------------------------------------------------

Value     Name
00004000  DA_32
00000098  DA_C
00000092  DA_DRW
00000093  DA_DRWA
00008000  DA_LIMIT_4K
0000008E  DA_386IGate
000000A8  GdtLen
00000008  SelectorCode32
00000010  SelectorVideo
00000018  SelectorVram
00000020  SelectorData
00000028  SelectorFont
00000030  SelectorStack
00000170  IdtLen
00007693  SpuriousHandler
00007694  ExceptionHandler
000076AD  TimerHandler
000076C7  KeyboardHandler
000076D9  MouseHandler
000076EB  AsmConsolePutCharHandler
000077CF  SegCode32Len
00001000  SystemFontLength
00000400  TopOfStack0
00000800  TopOfStack1
00000C00  TopOfStack2
00000C00  LenOfStackSection


---- Section .text ------------------------------------------------------------

Real              Virtual           Name
            8000              8000  VRAM_ADDRESS

---- Section .gdt -------------------------------------------------------------

Real              Virtual           Name
            8008              8008  LABEL_GDT
            8010              8010  LABEL_DESC_CODE32
            8018              8018  LABEL_DESC_VIDEO
            8020              8020  LABEL_DESC_VRAM
            8028              8028  LABEL_DESC_DATA
            8030              8030  LABEL_DESC_FONT
            8038              8038  LABEL_DESC_STACK
            8040              8040  LABEL_DESC_7
            8048              8048  LABEL_DESC_8
            8050              8050  LABEL_DESC_9
            8058              8058  LABEL_DESC_10
            80B0              80B0  GdtPtr

---- Section .idt -------------------------------------------------------------

Real              Virtual           Name
            80B8              80B8  LABEL_IDT
            8120              8120  LABEL_IDT.0Dh
            81B8              81B8  LABEL_IDT.020H
            81C0              81C0  LABEL_IDT.021H
            8218              8218  LABEL_IDT.02CH
            8220              8220  LABEL_IDT.02DH
            8228              8228  IdtPtr

---- Section .s16 -------------------------------------------------------------

Real              Virtual           Name
            8230              8230  LABEL_BEGIN
            823B              823B  ComputeMemory
            8244              8244  ComputeMemory.loop
            8267              8267  LABEL_MEM_CHK_FAIL
            8270              8270  LABEL_MEM_CHK_OK
            82FE              82FE  init8259A
            8341              8341  io_delay

---- Section .s32 -------------------------------------------------------------

Real              Virtual           Name
            8348              8348  LABEL_SEG_CODE32
            836B              836B  CMain
            8732              8732  ?_001
            878B              878B  ?_002
            8857              8857  ?_003
            88C8              88C8  ?_004
            8962              8962  ?_005
            8AE4              8AE4  ?_006
            8B35              8B35  ?_007
            8B68              8B68  ?_008
            8B8B              8B8B  ?_009
            8BAC              8BAC  ?_010
            8BFE              8BFE  ?_011
            8C20              8C20  ?_012
            8C68              8C68  ?_013
            8C9B              8C9B  ?_014
            8CA0              8CA0  task_b_main
            8D61              8D61  ?_015
            8D80              8D80  ?_016
            8DEB              8DEB  ?_017
            8DF0              8DF0  init_screeninfo
            8E13              8E13  init_palette
            8E38              8E38  set_palette
            8E66              8E66  ?_018
            8EC8              8EC8  ?_019
            8EDE              8EDE  paint_rectangle
            8EF2              8EF2  ?_020
            8EFA              8EFA  ?_021
            8F19              8F19  ?_022
            8F25              8F25  ?_023
            8F2F              8F2F  init_desktop
            92B6              92B6  init_mouse_position
            92FC              92FC  paint_font
            9314              9314  ?_024
            934A              934A  ?_025
            9376              9376  ?_026
            93A2              93A2  ?_027
            93CE              93CE  ?_028
            93FA              93FA  ?_029
            9426              9426  ?_030
            9452              9452  ?_031
            947E              947E  ?_032
            9482              9482  ?_033
            948E              948E  paint_string
            94A3              94A3  ?_034
            94EE              94EE  ?_035
            952F              952F  init_mouse_cursor
            9547              9547  ?_036
            9553              9553  ?_037
            9585              9585  ?_038
            95B7              95B7  ?_039
            95D1              95D1  ?_040
            95D5              95D5  ?_041
            95E3              95E3  ?_042
            95EF              95EF  paint_block
            95FE              95FE  ?_043
            9607              9607  ?_044
            9642              9642  ?_045
            964E              964E  ?_046
            9658              9658  init_fifo_buf
            96A8              96A8  compute_mouse_position
            96E2              96E2  ?_047
            96F5              96F5  ?_048
            9719              9719  ?_049
            973D              973D  ?_050
            973F              973F  show_mouse_info
            97EC              97EC  ?_051
            97EE              97EE  show_memory_info
            9AF8              9AF8  message_box
            9BE3              9BE3  make_textbox
            9E7C              9E7C  make_windows
            A140              A140  make_window_title
            A15D              A15D  ?_052
            A165              A165  ?_053
            A1E9              A1E9  ?_054
            A1F2              A1F2  ?_055
            A216              A216  ?_056
            A222              A222  ?_057
            A22E              A22E  ?_058
            A232              A232  ?_059
            A262              A262  ?_060
            A26C              A26C  ?_061
            A27C              A27C  transfer_scancode
            A295              A295  ?_062
            A2A8              A2A8  ?_063
            A2BE              A2BE  ?_064
            A2D4              A2D4  ?_065
            A2EF              A2EF  ?_066
            A2F9              A2F9  ?_067
            A323              A323  ?_068
            A32D              A32D  ?_069
            A37E              A37E  ?_070
            A380              A380  ?_071
            A3AE              A3AE  ?_072
            A3B2              A3B2  ?_073
            A3B6              A3B6  ?_074
            A3B8              A3B8  is_special_key
            A3F6              A3F6  ?_075
            A3FD              A3FD  ?_076
            A402              A402  ?_077
            A404              A404  console_task
            A523              A523  ?_078
            A544              A544  ?_079
            A592              A592  ?_080
            A5B6              A5B6  ?_081
            A5CE              A5CE  ?_082
            A610              A610  ?_083
            A66F              A66F  ?_084
            A6FB              A6FB  ?_085
            A79B              A79B  ?_086
            A7BD              A7BD  ?_087
            A7DF              A7DF  ?_088
            A820              A820  ?_089
            A83F              A83F  ?_090
            A8AC              A8AC  ?_091
            A8E6              A8E6  ?_092
            A8EB              A8EB  command_mem
            A9DA              A9DA  command_cls
            A9F7              A9F7  ?_093
            AA00              AA00  ?_094
            AA23              AA23  ?_095
            AA30              AA30  ?_096
            AAB3              AAB3  command_dir
            AAE7              AAE7  ?_097
            AAF0              AAF0  ?_098
            AB1A              AB1A  ?_099
            AB1C              AB1C  ?_100
            AB22              AB22  ?_101
            AB3A              AB3A  ?_102
            AB58              AB58  ?_103
            AC10              AC10  ?_104
            AC40              AC40  command_type
            AC87              AC87  ?_105
            ACB5              ACB5  ?_106
            ACB7              ACB7  ?_107
            ACBD              ACBD  ?_108
            ACCD              ACCD  ?_109
            ACDA              ACDA  ?_110
            AD04              AD04  ?_111
            AD06              AD06  ?_112
            AD0C              AD0C  ?_113
            AD24              AD24  ?_114
            AD42              AD42  ?_115
            ADAB              ADAB  ?_116
            ADC5              ADC5  ?_117
            AE41              AE41  ?_118
            AE43              AE43  ?_119
            AE76              AE76  ?_120
            AEF7              AEF7  ?_121
            AEFB              AEFB  ?_122
            AF0A              AF0A  ?_123
            AF0E              AF0E  ?_124
            AF1C              AF1C  ?_125
            AF65              AF65  command_hlt
            B062              B062  launch_console
            B234              B234  set_cursor
            B2BA              B2BA  console_new_line
            B2D3              B2D3  ?_126
            B2DC              B2DC  ?_127
            B2E5              B2E5  ?_128
            B321              B321  ?_129
            B32E              B32E  ?_130
            B340              B340  ?_131
            B349              B349  ?_132
            B368              B368  ?_133
            B375              B375  ?_134
            B3B2              B3B2  ?_135
            B3EE              B3EE  strcmp
            B400              B400  ?_136
            B40A              B40A  ?_137
            B413              B413  ?_138
            B434              B434  ?_139
            B438              B438  ?_140
            B44D              B44D  ?_141
            B472              B472  ?_142
            B497              B497  ?_143
            B49C              B49C  ?_144
            B49E              B49E  c_console_putchar
            B542              B542  c_console_putstr
            B54A              B54A  ?_145
            B567              B567  ?_146
            B573              B573  kernel_api
            B59F              B59F  ?_147
            B5BA              B5BA  ?_148
            B5C8              B5C8  ?_149
            B5CD              B5CD  ?_150
            B5CF              B5CF  intHandlerException
            B628              B628  wait_KBC_sendready
            B62E              B62E  ?_151
            B643              B643  ?_152
            B645              B645  ?_153
            B647              B647  init_keyboard
            B681              B681  enable_mouse
            B6BB              B6BB  mouse_decode
            B6DF              B6DF  ?_154
            B6E9              B6E9  ?_155
            B712              B712  ?_156
            B71C              B71C  ?_157
            B742              B742  ?_158
            B7B9              B7B9  ?_159
            B7DC              B7DC  ?_160
            B7F3              B7F3  ?_161
            B7F8              B7F8  ?_162
            B7FA              B7FA  intHandlerKeyboard
            B84D              B84D  intHandlerMouse
            B8A0              B8A0  fifo8_init
            B8E6              B8E6  fifo8_put
            B902              B902  ?_163
            B927              B927  ?_164
            B969              B969  ?_165
            B9AE              B9AE  ?_166
            B9B3              B9B3  ?_167
            B9B5              B9B5  fifo8_get
            B9DC              B9DC  ?_168
            BA21              BA21  ?_169
            BA33              BA33  ?_170
            BA35              BA35  fifo8_status
            BA4A              BA4A  charToHexVal
            BA65              BA65  ?_171
            BA6C              BA6C  ?_172
            BA6E              BA6E  charToHexStr
            BAC1              BAC1  intToHexStr
            BAE5              BAE5  ?_173
            BAF4              BAF4  ?_174
            BB03              BB03  ?_175
            BB2E              BB2E  ?_176
            BB3F              BB3F  ?_177
            BB43              BB43  ?_178
            BB4F              BB4F  ?_179
            BB56              BB56  memman_init
            BB82              BB82  memman_total
            BB98              BB98  ?_180
            BBAC              BBAC  ?_181
            BBBB              BBBB  memman_alloc
            BBCD              BBCD  ?_182
            BC49              BC49  ?_183
            BC4E              BC4E  ?_184
            BC52              BC52  ?_185
            BC65              BC65  ?_186
            BC67              BC67  memman_free
            BC77              BC77  ?_187
            BC8A              BC8A  ?_188
            BC8E              BC8E  ?_189
            BC98              BC98  ?_190
            BD52              BD52  ?_191
            BD5C              BD5C  ?_192
            BDB8              BDB8  ?_193
            BDD2              BDD2  ?_194
            BDFA              BDFA  ?_195
            BE29              BE29  ?_196
            BE4F              BE4F  ?_197
            BE78              BE78  ?_198
            BE7E              BE7E  memman_alloc_4k
            BEAE              BEAE  memman_free_4k
            BEE5              BEE5  sheet_control_init
            BF2B              BF2B  ?_199
            BF58              BF58  ?_200
            BF73              BF73  ?_201
            BFC5              BFC5  ?_202
            BFC8              BFC8  ?_203
            BFCA              BFCA  sheet_alloc
            BFD9              BFD9  ?_204
            C030              C030  ?_205
            C034              C034  ?_206
            C042              C042  ?_207
            C044              C044  sheet_setbuf
            C06C              C06C  sheet_updown
            C097              C097  ?_208
            C0A4              C0A4  ?_209
            C0CB              C0CB  ?_210
            C0FF              C0FF  ?_211
            C1BA              C1BA  ?_212
            C1CD              C1CD  ?_213
            C201              C201  ?_214
            C20C              C20C  ?_215
            C2BA              C2BA  ?_216
            C2D4              C2D4  ?_217
            C308              C308  ?_218
            C322              C322  ?_219
            C32D              C32D  ?_220
            C367              C367  ?_221
            C38E              C38E  ?_222
            C426              C426  ?_223
            C42D              C42D  sheet_refresh
            C493              C493  ?_224
            C4A0              C4A0  sheet_slide
            C5D9              C5D9  ?_225
            C5DF              C5DF  sheet_refresh_local
            C603              C603  ?_226
            C610              C610  ?_227
            C624              C624  ?_228
            C638              C638  ?_229
            C643              C643  ?_230
            C67C              C67C  ?_231
            C696              C696  ?_232
            C732              C732  ?_233
            C736              C736  ?_234
            C749              C749  ?_235
            C75C              C75C  ?_236
            C76D              C76D  sheet_refresh_map
            C791              C791  ?_237
            C79E              C79E  ?_238
            C7B2              C7B2  ?_239
            C7C6              C7C6  ?_240
            C7D1              C7D1  ?_241
            C84B              C84B  ?_242
            C858              C858  ?_243
            C86C              C86C  ?_244
            C880              C880  ?_245
            C888              C888  ?_246
            C89E              C89E  ?_247
            C8F2              C8F2  ?_248
            C8F6              C8F6  ?_249
            C902              C902  ?_250
            C912              C912  ?_251
            C923              C923  init_time_port
            C978              C978  ?_252
            C9A0              C9A0  ?_253
            C9AB              C9AB  get_timer_control
            C9B5              C9B5  timer_alloc
            C9C4              C9C4  ?_254
            C9E6              C9E6  ?_255
            C9EA              C9EA  ?_256
            C9F3              C9F3  ?_257
            C9F5              C9F5  timer_free
            CA04              CA04  timer_init
            CA25              CA25  timer_settime
            CA3C              CA3C  intHandlerTimer
            CA73              CA73  ?_258
            CB14              CB14  ?_259
            CB1F              CB1F  ?_260
            CB23              CB23  ?_261
            CB32              CB32  segment_descriptor
            CB4E              CB4E  ?_262
            CBAC              CBAC  init_task_level
            CBF7              CBF7  ?_263
            CC18              CC18  ?_264
            CC20              CC20  task_init
            CC52              CC52  ?_265
            CCD7              CCD7  ?_266
            CCEA              CCEA  ?_267
            CCF9              CCF9  ?_268
            CD6A              CD6A  task_alloc
            CD7C              CD7C  ?_269
            CE6E              CE6E  ?_270
            CE72              CE72  ?_271
            CE81              CE81  ?_272
            CE83              CE83  task_run
            CE98              CE98  ?_273
            CEA7              CEA7  ?_274
            CEC8              CEC8  ?_275
            CEE7              CEE7  ?_276
            CEF5              CEF5  task_switch
            CF52              CF52  ?_277
            CF82              CF82  ?_278
            CFCE              CFCE  ?_279
            CFD0              CFD0  task_sleep
            D040              D040  ?_280
            D045              D045  task_now
            D079              D079  task_add
            D0C5              D0C5  task_remove
            D0F2              D0F2  ?_281
            D111              D111  ?_282
            D115              D115  ?_283
            D11F              D11F  ?_284
            D146              D146  ?_285
            D15F              D15F  ?_286
            D16B              D16B  ?_287
            D186              D186  ?_288
            D192              D192  task_switch_sub
            D1A1              D1A1  ?_289
            D1C1              D1C1  ?_290
            D1C5              D1C5  ?_291
            D1CB              D1CB  ?_292
            D1E3              D1E3  task_send_message
            D20E              D20E  file_load_content
            D241              D241  ?_293
            D24A              D24A  ?_294
            D274              D274  ?_295
            D276              D276  ?_296
            D27C              D27C  ?_297
            D29B              D29B  ?_298
            D2B9              D2B9  ?_299
            D341              D341  ?_300
            D35C              D35C  ?_301
            D366              D366  ?_302
            D36A              D36A  ?_303
            D378              D378  ?_304
            D396              D396  ?_305
            D39D              D39D  ?_306
            D3A5              D3A5  ?_307
            D3B2              D3B2  ?_308
            D3B4              D3B4  ?_309
            D3BE              D3BE  ?_310
            D3CA              D3CA  ?_311
            D3D6              D3D6  ?_312
            D3E2              D3E2  ?_313
            D3EF              D3EF  ?_314
            D3F6              D3F6  ?_315
            D3F8              D3F8  ?_316
            D3FC              D3FC  ?_317
            D400              D400  ?_318
            D404              D404  ?_319
            D408              D408  ?_320
            D40E              D40E  ?_321
            D412              D412  ?_322
            D414              D414  ?_323
            D41C              D41C  ?_324
            D424              D424  ?_325
            D42C              D42C  ?_326
            D448              D448  test
            D44C              D44C  memman
            D468              D468  keytable
            D4E8              D4E8  keytable_shift
            D568              D568  table_rgb.1814
            D5A8              D5A8  cursor.1882
            D6A8              D6A8  closebtn.1969
            D788              D788  keyval
            D78A              D78A  ?_327
            D78B              D78B  ?_328
            D78D              D78D  task_console_g
            D791              D791  task_main
            D795              D795  task_a
            D799              D799  sheet_control
            D79D              D79D  back_sheet
            D7A1              D7A1  mouse_sheet
            D7A5              D7A5  timerinfo1.1796
            D7C1              D7C1  timerbuf1.1799
            D7C9              D7C9  timerinfo2.1797
            D7E5              D7E5  timerbuf2.1800
            D7ED              D7ED  timerinfo3.1798
            D809              D809  timerbuf3.1801
            D82D              D82D  screen_info
            D831              D831  ?_329
            D833              D833  ?_330
            D835              D835  g_Console
            D839              D839  ?_331
            D83D              D83D  ?_332
            D841              D841  ?_333
            D845              D845  ?_334
            D846              D846  ?_335
            D84D              D84D  mouse_cursor_buf
            D94D              D94D  back_buf
            D951              D951  sheet_win
            D955              D955  mouse_x
            D959              D959  mouse_y
            D95D              D95D  key_shift
            D961              D961  caps_lock
            D965              D965  buffer
            D969              D969  ?_336
            D96D              D96D  mouse_send_info
            D98D              D98D  keyinfo
            D9AD              D9AD  keybuf
            D9CD              D9CD  mouseinfo
            D9ED              D9ED  mousebuf
            DA6D              DA6D  str.1386
            DA6E              DA6E  ?_337
            DA77              DA77  ?_338
            DA8D              DA8D  timer_control
            F9D1              F9D1  task_timer
            F9D5              F9D5  task_control
            F9DB              F9DB  _SpuriousHandler
            F9DC              F9DC  _ExceptionHandler
            F9F5              F9F5  _TimerHandler
            FA0F              FA0F  _KeyboardHandler
            FA21              FA21  _MouseHandler
            FA33              FA33  _AsmConsolePutCharHandler
            FA4C              FA4C  end_app
            FA50              FA50  start_app
            FA79              FA79  io_hlt
            FA7B              FA7B  io_cli
            FA7D              FA7D  io_sti
            FA7F              FA7F  io_stihlt
            FA82              FA82  io_out8
            FA8C              FA8C  io_out16
            FA98              FA98  io_out32
            FAA2              FAA2  io_in8
            FAAD              FAAD  io_in16
            FAB9              FAB9  io_in32
            FAC4              FAC4  io_load_eflags
            FAC7              FAC7  io_store_eflags
            FACE              FACE  get_memory_block_count
            FAD4              FAD4  get_memory_address
            FADA              FADA  get_addr_gdt
            FAE0              FAE0  get_code32_addr
            FAE6              FAE6  load_tr
            FAEC              FAEC  taskswitch9
            FAF4              FAF4  taskswitch8
            FAFC              FAFC  taskswitch7
            FB04              FB04  taskswitch10
            FB0C              FB0C  farjmp

---- Section .data ------------------------------------------------------------

Real              Virtual           Name
            FB18              FB18  MemoryBuf
            FC18              FC18  MemoryNumber
            FC1C              FC1C  LABEL_SYSTEM_FONT
            FC1C              FC1C  systemFont
           10C1C             10C1C  LABEL_STACK

