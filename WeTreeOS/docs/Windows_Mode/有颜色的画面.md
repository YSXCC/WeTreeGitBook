# 有颜色的画面

## 显存

![显存地址和模式](https://gitee.com/YSXCC/MDImage/raw/master/img/20200210181757.png)

* 每一个地址控制一个像素点，只需要自己给这些像素点赋值，就可以完成。

* 在文本模式下，需要向每一个位置写入颜色和ASCII码。

* 在图像模式下，需要向每一个像素点写入颜色。

## 怎么写入A0000开头的显存

* 当我们准备向显存写入颜色的时候，必须要先定义好这种颜色。因为显示器不支持数字直接转换为颜色。

* 所以我们需要引入调色板这一个概念，设置调色板来自定义颜色。

* 向显示器发送设置调色板的指令。指定包括调色板功能端口（3c8h）和调色板颜色设置端口（3c9h）。设置调色板的时候，需要定义索引编号，以便我们后面需要显示某种色彩的时候，在显存地址的象素位置处用索引编号来调用。256颜色模式的调色板索引编号为0-255。

* 256以及以下的颜色模式需要用调色板技术，而后面的更高分辨率在256以上颜色模式的时候就不需要调色板了。

[具体代码实现](初始化桌面.md)
